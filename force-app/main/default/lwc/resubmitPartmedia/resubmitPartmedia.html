<template>
    <lightning-card>
        <!-- Header Section with Icon -->
        <div class="slds-grid slds-p-around_medium slds-border_bottom slds-theme_shade">
            <lightning-icon icon-name="standard:product" size="medium" alternative-text="Logo"></lightning-icon>
            <h1 class="slds-text-heading_medium slds-m-left_medium">
                Add Media URLs to Discrepancy Line Items
            </h1>
        </div>

        <!-- Table Section -->
        <div class="slds-p-around_medium">
            <template if:true={lineItems}>
                <table class="slds-table slds-table_cell-buffer slds-table_bordered slds-table_striped slds-table_fixed-layout">
                    <thead>
                        <tr class="slds-line-height_reset">
                            <th scope="col"><div class="slds-truncate" title="Name">Name</div></th>
                            <th scope="col"><div class="slds-truncate" title="Product Name">Product Name</div></th>
                            <th scope="col"><div class="slds-truncate" title="Discrepancy">Discrepancy</div></th>
                            <th scope="col"><div class="slds-truncate" title="Quantity">Quantity</div></th>
                            <th scope="col"><div class="slds-truncate" title="Claimed Amount">Claimed Amount</div></th>
                            <th scope="col"><div class="slds-truncate" title="Media URL">Media URL</div></th>
                        </tr>
                    </thead>
                    <tbody>
                        <template for:each={lineItems} for:item="item">
                            <tr key={item.Id}>
                                <td><div class="slds-truncate" title={item.Name}>{item.Name}</div></td>
                                <td><div class="slds-truncate" title={item.Discrepancy__c}>{item.Product_Name__c}</div></td>
                                <td><div class="slds-truncate" title={item.Discrepancy__c}>{item.Discrepancy__c}</div></td>
                                <td><div class="slds-truncate" title={item.Quantity__c}>{item.Quantity__c	}</div></td>
                                <td><div class="slds-truncate" title={item.Discrepancy__c}>{item.Claimed_Amount__c}</div></td>
                                <td>
                                    <lightning-input
                                        type="url"
                                        variant="label-hidden"
                                        value={item.Supporting_Media__c}
                                        data-id={item.Id}
                                        onchange={handleUrlChange}
                                        placeholder="Enter Media URL">
                                    </lightning-input>
                                </td>
                            </tr>
                        </template>
                    </tbody>
                </table>

                <!-- Save Button Right Aligned -->
                <div class="slds-m-top_medium slds-text-align_right">
                    <lightning-button label="Save" onclick={handleSave} variant="brand"></lightning-button>
                </div>
            </template>

            <template if:true={error}>
                <div class="slds-text-color_error slds-m-top_small">{error}</div>
            </template>
        </div>
    </lightning-card>
   
</template>