<template>
    <template if:true={showSpinner}>
        <lightning-spinner alternative-text="Loading" size="x-small"></lightning-spinner>
    </template>
    <template if:true={showEditFrom}>
        <lightning-record-edit-form object-api-name="Order" record-id={recordId} onsuccess={handleSuccess} onsubmit={handleSubmit}
            onerror={handleError}>
            <lightning-messages></lightning-messages>
            <lightning-quick-action-panel header="Order Details">
                <lightning-accordion allow-multiple-sections-open active-section-name={activeSections}>

                    <lightning-accordion-section name="Section1" label="Insurance">
                        <lightning-layout multiple-rows>
                            <lightning-layout-item size="12" small-device-size="12" medium-device-size="6"
                                large-device-size="6" padding="horizontal-small">
                                <div class="custom-box">
                                    <lightning-input-field field-name="Insurance_Type__c" onchange={handleChange} required>
                                    </lightning-input-field>
                                </div>
                            </lightning-layout-item>

                            <template lwc:if={inhouse}>
                                <lightning-layout-item size="12" small-device-size="12" medium-device-size="6"
                                    large-device-size="6" padding="horizontal-small">
                                    <div class="custom-box">
                                        <lightning-input-field field-name="Insurance__c"
                                            required></lightning-input-field>
                                    </div>
                                </lightning-layout-item>
                            </template>
                            <template lwc:if={outhouse}>
                                <lightning-layout-item size="12" small-device-size="12" medium-device-size="6"
                                    large-device-size="6" padding="horizontal-small">
                                    <div class="custom-box">
                                        <lightning-input-field field-name="Other_Insurance_Provider_Name__c" required>
                                        </lightning-input-field>
                                    </div>
                                </lightning-layout-item>
                                <lightning-layout-item size="12" small-device-size="12" medium-device-size="6"
                                    large-device-size="6" padding="horizontal-small">
                                    <div class="custom-box">
                                        <lightning-input-field field-name="Status" required>
                                        </lightning-input-field>
                                        <lightning-input-field field-name="Customer_Approval__c" required>
                                        </lightning-input-field>
                                    </div>
                                </lightning-layout-item>
                            </template>
                        </lightning-layout>
                        <lightning-layout multiple-rows>
                            <lightning-layout-item size="12" small-device-size="12" medium-device-size="6"
                                large-device-size="6" padding="horizontal-small">
                                <div class="custom-box">
                                    <lightning-input-field field-name="Insurance_Amount__c" required>
                                    </lightning-input-field>
                                </div>
                            </lightning-layout-item>
                        </lightning-layout>
                    </lightning-accordion-section>
                </lightning-accordion>

                <div slot="footer" class="slds-var-m-top_medium slds-text-align_center">
                    <lightning-button variant="neutral" label="Cancel" onclick={handleCancel}></lightning-button>
                    &nbsp;&nbsp;&nbsp;
                    <lightning-button variant="brand" type="submit" label="Save"></lightning-button>
                </div>
            </lightning-quick-action-panel>
        </lightning-record-edit-form>
    </template>

    <template if:false={showEditFrom}>
        <lightning-card  title="Order Details">
            <p>
                    &emsp;&emsp;You Cannot Update the Details.
            </p>
            <p slot="footer"><lightning-button variant="neutral" label="Cancel" onclick={handleCancel}></lightning-button></p>
        </lightning-card>
    </template>


</template>