<template>
    <!-- <div class="slds-grid slds-wrap slds-grid_align-spread slds-container_fluid"> -->
        <div class="custom-card slds-col slds-size_1-of-1">
            <!-- <lightning-card> -->
                <!-- Custom Header with Background Color -->
                <div class="custom-header slds-p-around_medium">
                    <lightning-icon icon-name="standard:lead" size="small" class="slds-m-right_small"></lightning-icon>
                    <h2 class="slds-text-heading_medium slds-text-color_inverse">Leads</h2>
                </div>
        
                <!-- Header Styling (Flexbox for Salesforce Look) -->
                <div class="slds-grid slds-wrap slds-p-around_medium slds-align-end">
                    <!-- Search Bar -->
                    <div class="slds-col slds-size_4-of-12 slds-grid slds-grid_align-start">
                        <lightning-input type="text" placeholder="Search by Lead Name/Phone Number" value={Searchkey} onchange={handleLeadName} variant="label-hidden" class="slds-m-right_small" style="max-width: 250px;"></lightning-input>
                        <lightning-button variant="brand" label="Search" onclick={handleSearchClick} class="slds-button_small"></lightning-button>
                    </div>
        
                    <!-- Action Buttons (Aligned to the Right) -->
                    <div class="slds-col slds-size_8-of-12 slds-grid slds-grid_align-end">
                        <lightning-button variant="neutral" label="Create New Lead" onclick={handleNewLead} class="slds-m-left_x-small custom-btn"></lightning-button>
                        <lightning-button variant="neutral" label="New Leads" onclick={handleLeadsDetails} class="slds-m-left_x-small custom-btn"></lightning-button>
                        <lightning-button variant="neutral" label="Test Ride List" onclick={handleTestRides} class="slds-m-left_x-small custom-btn"></lightning-button>
                        <lightning-button variant="neutral" label="Follow Up List" onclick={handleFollowUp} class="slds-m-left_x-small custom-btn"></lightning-button>
                    </div>
                </div>
            <!-- </lightning-card> -->
        </div>
        

        <div if:true={Allleads}>
            <div class="table-container custom-table" style="height:1200px;">
                <lightning-datatable key-field="id" data={records} columns={columns} show-row-number-column hide-checkbox-column onrowaction={handleRowAction} class="slds-table"></lightning-datatable>
            </div>
            <!-- Buttons for pagination Added by rohit -->
            <div class="slds-grid slds-grid_align-center slds-m-top_medium">
                <lightning-button label="Previous" onclick={handlePrevious} disabled={disablePrevious} class="slds-m-right_small slds-button_x-small" aria-label="Go to previous page"></lightning-button>
                <span class="slds-text-title_bold slds-var-m-horizontal_small slds-text-body_small">Page {pageNumber}</span>
                <lightning-button label="Next" onclick={handleNext} disabled={disableNext} class="slds-m-left_small slds-button_x-small" aria-label="Go to next page"></lightning-button>
            </div>
        </div>

        <div if:true={searchlead}>
            <lightning-datatable key-field="id" data={data} columns={columns} show-row-number-column hide-checkbox-column onrowaction={handleRowAction}></lightning-datatable>
        </div>

        <template if:true={shownewfollowupModal}>
            <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
                <div class="slds-modal__container">
                    <header class="slds-modal__header">
                        <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={handlenewfollowupcancelClick}>
                            <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                            <span class="slds-assistive-text">Close</span>
                        </button>
                        <h2 class="slds-text-heading_medium">Action To be taken</h2>
                    </header>
                    <div class="slds-modal__content slds-p-around_medium">
                        <lightning-radio-group name="radioGroup" options={todayfollowupchooseoptions} value={todayfollowupchooseoptionsvalue} onchange={todayfollowupchooseoptionshandlechange} type="radio"></lightning-radio-group>
                    </div>
                    <footer class="slds-modal__footer slds-text-align_center"></footer>
                </div>
            </section>
            <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
        </template>

        <template if:true={newfollowupModal}>
            <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
                <div class="slds-modal__container">
                    <header class="slds-modal__header">
                        <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={handlenewfollowupcancelClick}>
                            <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                            <span class="slds-assistive-text">Close</span>
                        </button>
                        <h2 class="slds-text-heading_medium">New Follow UP</h2>
                    </header>
                    <div class="slds-modal__content slds-p-around_medium">
                        <lightning-input type="datetime" name="input2" label="Followup Date" value={newfollowupdate} onchange={followupdatehandle}></lightning-input>
                        <template if:true={errordateMessage}>
                            <p class="slds-text-color_error">{errordateMessage}</p>
                        </template>
                        <lightning-input type="text" label="Follow up Feedback" value={newFollowupfeedbck} onchange={followupfeedbackHandler} min={todaysDate}></lightning-input>
                    </div>
                    <footer class="slds-modal__footer slds-text-align_center">
                        <lightning-button variant="success" label="Save" title="Successful action" onclick={newfollowupsubmit} class="slds-m-left_x-small"></lightning-button>
                        <lightning-button variant="destructive" label="Cancel" title="Successful action" onclick={handlenewfollowupcancelClick} class="slds-m-left_x-small"></lightning-button>
                    </footer>
                </div>
            </section>
            <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
        </template>
        <template if:true={isshowTestRideModalstore}>
            <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
                <div class="slds-modal__container">
                    <header class="slds-modal__header">
                        <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={cancelNewTestRidestrore}>
                            <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                            <span class="slds-assistive-text">Close</span>
                        </button>
                        <h2 class="slds-text-heading_medium">New TestRide</h2>
                    </header>
                    <div class="slds-modal__content slds-p-around_medium">
                        <lightning-input type="text" label="Lead Name" disabled value={LeadName} minlength="3"></lightning-input>
                        <lightning-input type="datetime" label="Test Ride Date" value={testridestorevaluedate} onchange={testridestorevaluedatehandle}></lightning-input>
                        <template if:true={errordateMessage}>
                            <p class="slds-text-color_error">{errordateMessage}</p>
                        </template>
                    </div>
                    <footer class="slds-modal__footer slds-text-align_center">
                        <lightning-button variant="success" label="Save" title="Successful action" onclick={todaysfollowuphandlestoresaveClick} class="slds-m-left_x-small"></lightning-button>
                        <lightning-button variant="destructive" label="Cancel" title="Successful action" onclick={cancelNewTestRidestrore} class="slds-m-left_x-small"></lightning-button>
                    </footer>
                </div>
            </section>
            <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
        </template>

        <template if:true={isshowTestRideModalhome}>
            <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open ">
                <div class="slds-modal__container">
                    <header class="slds-modal__header">
                        <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={cancelNewTestRidehome}>
                            <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                            <span class="slds-assistive-text">Close</span>
                        </button>
                        <h2 class="slds-text-heading_medium">New TestRide</h2>
                    </header>
                    <div class="slds-modal__content slds-p-around_medium">
                        <lightning-input type="text" label="Lead Name" disabled value={LeadName} minlength="3"></lightning-input>
                        <lightning-input type="datetime" name="input2" label="Test Ride Date" value={testridehomevaluedate} onchange={testridehomevaluedatehandle} minlength={todaysDate}></lightning-input>
                        <template if:true={errordateMessage}>
                            <p class="slds-text-color_error">{errordateMessage}</p>
                        </template>
                        <lightning-card title="Address">
                            <div class="slds-p-around_medium">
                                <lightning-textarea type="text" label="Street" value={street} onchange={handlestreet}></lightning-textarea>
                                <lightning-layout>
                                    <lightning-layout-item padding="around-small" size="6">
                                        <lightning-input type="text" label="City" value={city} onchange={handlecity}></lightning-input>
                                    </lightning-layout-item>
                                    <lightning-layout-item padding="around-small" size="6">
                                        <lightning-combobox name="progress" label="Country" value={country} options={countryoptions} onchange={handlecountry}></lightning-combobox>
                                    </lightning-layout-item>
                                </lightning-layout>
                                <lightning-layout>
                                    <lightning-layout-item padding="around-small" size="6">
                                        <lightning-input type="text" label="Postal Code" value={postalCode} onchange={handlepostalcode}></lightning-input>
                                    </lightning-layout-item>
                                    <lightning-layout-item padding="around-small" size="6">
                                        <lightning-combobox name="progress" label="State" value={state} options={stateoptions} onchange={handlestate}></lightning-combobox>
                                    </lightning-layout-item>
                                </lightning-layout>
                            </div>
                        </lightning-card>
                        <footer class="slds-modal__footer slds-text-align_center">
                            <lightning-button variant="success" label="Save" title="Successful action" onclick={todaysfollowuphandlehomesaveClick} class="slds-m-left_x-small"></lightning-button>
                            <lightning-button variant="destructive" label="Cancel" title="Successful action" onclick={cancelNewTestRidehome} class="slds-m-left_x-small"></lightning-button>
                        </footer>
                    </div>
                </div>
            </section>
            <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
        </template>
        <template if:true={Ridetypetrue}>
            <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
                <div class="slds-modal__container">
                    <header class="slds-modal__header">
                        <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={todaysfollowupRidetypetruecancel}>
                            <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                            <span class="slds-assistive-text">Close</span>
                        </button>
                        <h2 class="slds-text-heading_medium">New Follow UP</h2>
                    </header>
                    <div class="slds-modal__content slds-p-around_medium">
                        <lightning-radio-group name="radioGroup" label="Select Test Ride Type" options={Ridetypeoptions} value={Ridetypevale} onchange={Ridetypeoptionschange} required type="radio"></lightning-radio-group>
                    </div>
                </div>
            </section>
            <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
        </template>
        <template if:true={lostleadtrue}>
            <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
                <div class="slds-modal__container">
                    <header class="slds-modal__header">
                        <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={todaysfollowuplostleadcancel}>
                            <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                            <span class="slds-assistive-text">Close</span>
                        </button>
                        <h2 class="slds-text-heading_medium">Lead Lost</h2>
                    </header>
                    <div class="slds-modal__content slds-p-around_medium">
                        <lightning-combobox name="progress" label="Reason" value={reasonvalue} options={reasonoptions} onchange={reasonhandleChange}></lightning-combobox>
                        <lightning-input type="text" label="Cancel For Reason" value={leadcancelreason} onchange={handleleadcancelreason} required minlength="6"></lightning-input>
                    </div>
                    <footer class="slds-modal__footer slds-text-align_center">
                        <lightning-button variant="success" label="Save" title="Successful action" onclick={todaysfollowuplostleadsave} class="slds-m-left_x-small"></lightning-button>
                        <lightning-button variant="destructive" label="Cancel" title="Successful action" onclick={todaysfollowuplostleadcancel} class="slds-m-left_x-small"></lightning-button>
                    </footer>
                </div>
            </section>
            <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
        </template>
        <!-- <div if:true={completeActionModal}>
            <div class="slds-modal__content slds-p-around_medium">
                <lightning-radio-group name="radioGroup" label="Choose Any Action" options={chooseactionoptions} value={chooseoption} onchange={ChooseAnyactionchange} type="button"></lightning-radio-group>
            </div>

            <div if:true={Ridetypetrue}>
                <div class="slds-modal__content slds-p-around_medium">
                    <lightning-radio-group name="radioGroup" label="Select Test Ride Type" options={Ridetypeoptions} value={Ridetypevale} onchange={Ridetypeoptionschange} required type="radio"></lightning-radio-group>
                </div>
            </div>

            <template if:true={isshowTestRideModalstore}>
                <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
                    <div class="slds-modal__container">
                        <header class="slds-modal__header">
                            <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={cancelNewTestRidestrore}>
                                <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                                <span class="slds-assistive-text">Close</span>
                            </button>
                            <h2 class="slds-text-heading_medium">New TestRide</h2>
                        </header>
                        <div class="slds-modal__content slds-p-around_medium">
                            <lightning-input type="text" label="Lead Name" disabled value={LeadName} minlength="3"></lightning-input>
                            <div class="custom-datetime">
                                <lightning-input type="datetime" label="Test Ride Date" value={testridestorevaluedate} onchange={testridestorevaluedatehandle}></lightning-input>
                                <template if:true={errordateMessage}>
                                    <p class="slds-text-color_error">{errordateMessage}</p>
                                </template>
                            </div>
                        </div>
                        <footer class="slds-modal__footer slds-text-align_center">
                            <lightning-button variant="success" label="Save" title="Successful action" onclick={handlestoresaveClick} class="slds-m-left_x-small"></lightning-button>
                            <lightning-button variant="destructive" label="Cancel" title="Successful action" onclick={cancelNewTestRidestrore} class="slds-m-left_x-small"></lightning-button>
                        </footer>
                    </div>
                </section>
                <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
            </template>

            <template if:true={isshowTestRideModalhome}>
                <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open ">
                    <div class="slds-modal__container">
                        <header class="slds-modal__header">
                            <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={cancelNewTestRidehome}>
                                <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                                <span class="slds-assistive-text">Close</span>
                            </button>
                            <h2 class="slds-text-heading_medium">New TestRide</h2>
                        </header>
                        <div class="slds-modal__content slds-p-around_medium">
                            <lightning-input type="text" label="Lead Name" disabled value={LeadName} minlength="3"></lightning-input>
                            <lightning-input type="datetime" name="input2" label="Test Ride Date" value={testridehomevaluedate} onchange={testridehomevaluedatehandle} minlength={todaysDate}></lightning-input>
                            <template if:true={errordateMessage}>
                                <p class="slds-text-color_error">{errordateMessage}</p>
                            </template>
                            <lightning-card title="Address">
                                <div class="slds-p-around_medium">
                                    <lightning-textarea type="text" label="Street" value={street} onchange={handlestreet}></lightning-textarea>
                                    <lightning-layout>
                                        <lightning-layout-item padding="around-small" size="6">
                                            <lightning-input type="text" label="City" value={city} onchange={handlecity}></lightning-input>
                                        </lightning-layout-item>
                                        <lightning-layout-item padding="around-small" size="6">
                                            <lightning-combobox name="progress" label="Country" value={country} options={countryoptions} onchange={handlecountry}></lightning-combobox>
                                        </lightning-layout-item>
                                    </lightning-layout>
                                    <lightning-layout>
                                        <lightning-layout-item padding="around-small" size="6">
                                            <lightning-input type="text" label="Postal Code" value={postalCode} onchange={handlepostalcode}></lightning-input>
                                        </lightning-layout-item>
                                        <lightning-layout-item padding="around-small" size="6">
                                            <lightning-combobox name="progress" label="State" value={state} options={stateoptions} onchange={handlestate}></lightning-combobox>
                                        </lightning-layout-item>
                                    </lightning-layout>
                                </div>
                            </lightning-card>
                            <footer class="slds-modal__footer slds-text-align_center">
                                <lightning-button variant="success" label="Save" title="Successful action" onclick={handlehomesaveClick} class="slds-m-left_x-small"></lightning-button>
                                <lightning-button variant="destructive" label="Cancel" title="Successful action" onclick={cancelNewTestRidehome} class="slds-m-left_x-small"></lightning-button>
                            </footer>
                        </div>
                    </div>
                </section>
                <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
            </template>

            <template if:true={lostleadtrue}>
                <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
                    <div class="slds-modal__container">
                        <header class="slds-modal__header">
                            <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={todaysfollowuplostleadsavedeatailscancel}>
                                <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                                <span class="slds-assistive-text">Close</span>
                            </button>
                            <h2 class="slds-text-heading_medium">Lead Lost</h2>
                        </header>
                        <div class="slds-modal__content slds-p-around_medium">
                            <lightning-combobox name="progress" label="Reason" value={reasonvalue} options={reasonoptions} onchange={reasonhandleChange}></lightning-combobox>
                            <lightning-input type="text" label="Cancel For Reason" value={leadcancelreason} onchange={handleleadcancelreason} required minlength="6"></lightning-input>
                        </div>
                        <footer class="slds-modal__footer slds-text-align_center">
                            <lightning-button variant="success" label="Save" title="Successful action" onclick={todaysfollowuplostleadsavedeatails} class="slds-m-left_x-small"></lightning-button>
                            <lightning-button variant="destructive" label="Cancel" onclick={todaysfollowuplostleadsavedeatailscancel} class="slds-m-left_x-small"></lightning-button>
                        </footer>
                    </div>
                </section>
                <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
            </template>

            <template if:true={followoptionchoose}>
                <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
                    <div class="slds-modal__container">
                        <header class="slds-modal__header">
                            <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={cancelfollowoptionchoose}>
                                <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                                <span class="slds-assistive-text">Close</span>
                            </button>
                            <h2 class="slds-text-heading_medium">New Follow UP</h2>
                        </header>
                        <div class="slds-modal__content slds-p-around_medium">
                            <lightning-radio-group name="radioGroup" label="Follow Up Subject" options={followoptionchooseoptions} value={followoptionchoosevalue} onchange={followoptionchoosechange} required type="radio"></lightning-radio-group>
                        </div>
                        <footer class="slds-modal__footer slds-text-align_center"></footer>
                    </div>
                </section>
                <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
            </template>

            <template if:true={bookedtrue}>
                <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
                    <div class="slds-modal__container">
                        <header class="slds-modal__header">
                            <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={cancelbookedtruecancel}>
                                <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                                <span class="slds-assistive-text">Close</span>
                            </button>
                            <h2 class="slds-text-heading_medium">New Follow UP</h2>
                        </header>
                        <div class="slds-modal__content slds-p-around_medium">
                            <lightning-input type="text" label="Enter Booking ID" value={bookingId} onchange={bookingidhandler}></lightning-input>
                        </div>
                        <footer class="slds-modal__footer slds-text-align_center">
                            <lightning-button variant="success" label="Save" title="Successful action" onclick={handlebookidsaveClick} class="slds-m-left_x-small"></lightning-button>
                            <lightning-button variant="destructive" label="Cancel" title="Successful action" onclick={handlebookidcancelClick} class="slds-m-left_x-small"></lightning-button>
                        </footer>
                    </div>
                </section>
                <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
            </template>

            <template if:true={newfollowuptrue}>
                <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
                    <div class="slds-modal__container">
                        <header class="slds-modal__header">
                            <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={handlenewfollowupcancelClick}>
                                <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                                <span class="slds-assistive-text">Close</span>
                            </button>
                            <h2 class="slds-text-heading_medium">New Follow UP</h2>
                        </header>
                        <div class="slds-modal__content slds-p-around_medium">
                            <lightning-input type="datetime" name="input2" label="Followup Date" value={newfollowupdate} onchange={followupdatehandle}></lightning-input>
                            <template if:true={errordateMessage}>
                                <p class="slds-text-color_error">{errordateMessage}</p>
                            </template>
                            <lightning-input type="text" label="Follow up Feedback" value={newFollowupfeedbck} onchange={followupfeedbackHandler} min={todaysDate}></lightning-input>
                        </div>
                        <footer class="slds-modal__footer slds-text-align_center">
                            <lightning-button variant="success" label="Save" title="Successful action" onclick={handlenewfollowupsaveClick} class="slds-m-left_x-small"></lightning-button>
                            <lightning-button variant="destructive" label="Cancel" title="Successful action" onclick={handlenewfollowupcancelClick} class="slds-m-left_x-small"></lightning-button>
                        </footer>
                    </div>
                </section>
                <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
            </template>
        </div> -->

        <div if:true={leaddetails} class="slds-size_1-of-1" style="height:1000px;">
            <lightning-card title="Lead Details" icon-name="standard:party_profile">
                <div if:true={leaddetailspageopen}>
                    <lightning-progress-indicator current-step={LeadStatus} type="path" variant="non-linear">
                        <template for:each={steps} for:item="step">
                            <lightning-progress-step label={step.label} value={step.value} key={step.label} data-value={step.value} onclick={handleStepClick}></lightning-progress-step>
                        </template>
                    </lightning-progress-indicator>
                    <lightning-layout multiple-rows="true">
                        <lightning-layout-item padding="around-small" size="6">
                            <lightning-input type="text" label="LeadName" value={LeadName} required disabled></lightning-input>
                        </lightning-layout-item>
                        <lightning-layout-item padding="around-small" size="6">
                            <lightning-combobox name="Lead Status" label=" LeadSource" value={source} placeholder="Select Progress" options={leadSourceOptions} onchange={handleChangeleadsource} disabled></lightning-combobox>
                        </lightning-layout-item>
                        <lightning-layout-item padding="around-small" size="6">
                            <lightning-combobox name="Lead Status" label=" Lead Status" value={LeadStatus} options={steps} onchange={handleChangeleadstatus} disabled></lightning-combobox>
                        </lightning-layout-item>
                        <lightning-layout-item padding="around-small" size="6">
                            <lightning-input type="phone" label="Mobile" value={MobilePhone} onchange={handleleadmoblie} required disabled></lightning-input>
                        </lightning-layout-item>
                        <lightning-layout-item padding="around-small" size="6">
                            <lightning-input type="Email" label="Email" value={leademail} onchange={handleleadeamil} disabled></lightning-input>
                        </lightning-layout-item>
                        <lightning-layout-item padding="around-small" size="6">
                            <lightning-input type="number" label="Lead Age(In Days)" value={LeadAge} disabled></lightning-input>
                        </lightning-layout-item>
                        <lightning-layout-item padding="around-small" size="6">
                            <lightning-input type="text" label="Lead Owner" value={leadowner} onchange={handleleadowner} disabled></lightning-input>
                        </lightning-layout-item>
                        <lightning-layout-item padding="around-small" size="6">
                            <lightning-input type="text" label="PS Name" value={psname} onchange={handlepsname} disabled></lightning-input>
                        </lightning-layout-item>
                    </lightning-layout>
                    <lightning-card title="Address">
                        <div class="slds-p-around_medium">
                            <lightning-textarea type="text" label="Street" value={street} onchange={handlestreet} disabled></lightning-textarea>
                            <lightning-layout>
                                <lightning-layout-item padding="around-small" size="6">
                                    <lightning-input type="text" label="City" value={city} onchange={handlecity} disabled></lightning-input>
                                </lightning-layout-item>
                                <lightning-layout-item padding="around-small" size="6">
                                    <lightning-combobox name="progress" label="Country" value={country} options={countryoptions} onchange={handlecountry} disabled></lightning-combobox>
                                </lightning-layout-item>
                            </lightning-layout>
                            <lightning-layout>
                                <lightning-layout-item padding="around-small" size="6">
                                    <lightning-input type="text" label="Postal Code" value={postalCode} onchange={handlepostalcode} disabled></lightning-input>
                                </lightning-layout-item>
                                <lightning-layout-item padding="around-small" size="6">
                                    <lightning-combobox name="progress" label="State" value={state} options={stateoptions} onchange={handlestate} disabled></lightning-combobox>
                                </lightning-layout-item>
                            </lightning-layout>
                        </div>
                    </lightning-card>

                    <div>
                        <footer class="slds-modal__footer slds-text-align_center">
                            <lightning-button variant="brand" label="Edit" onclick={handleEdit} class="slds-m-left_x-small"></lightning-button>
                            <lightning-button variant="brand-outline" label="Convert" class="slds-m-left_x-small" onclick={handleLeadConvert}></lightning-button>
                        </footer>
                    </div>
                    <template if:true={lostleadtrue}>
                        <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
                            <div class="slds-modal__container">
                                <header class="slds-modal__header">
                                    <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={todaysfollowuplostleadsavedeatailscancel}>
                                        <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                                        <span class="slds-assistive-text">Close</span>
                                    </button>
                                    <h2 class="slds-text-heading_medium">Lead Lost</h2>
                                </header>
                                <div class="slds-modal__content slds-p-around_medium">
                                    <lightning-combobox name="progress" label="Reason" value={reasonvalue} options={reasonoptions} onchange={reasonhandleChange}></lightning-combobox>
                                    <lightning-input type="text" label="Cancel For Reason" value={leadcancelreason} onchange={handleleadcancelreason} required minlength="6"></lightning-input>
                                </div>
                                <footer class="slds-modal__footer slds-text-align_center">
                                    <lightning-button variant="success" label="Save" title="Successful action" onclick={todaysfollowuplostleadsavedeatails} class="slds-m-left_x-small"></lightning-button>
                                    <lightning-button variant="destructive" label="Cancel" onclick={todaysfollowuplostleadsavedeatailscancel} class="slds-m-left_x-small"></lightning-button>
                                </footer>
                            </div>
                        </section>
                        <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
                    </template>
                </div>
                <div if:true={edittrue}>
                    <lightning-card>
                        <lightning-progress-indicator current-step={LeadStatus} type="path" variant="non-linear">
                            <template for:each={steps} for:item="step">
                                <lightning-progress-step label={step.label} value={step.value} key={step.label} data-value={step.value} onclick={handleStepClick}></lightning-progress-step>
                            </template>
                        </lightning-progress-indicator>
                        <lightning-layout multiple-rows="true">
                            <lightning-layout-item padding="around-small" size="6">
                                <lightning-input type="text" label="LeadName" value={LeadName} required disabled></lightning-input>
                            </lightning-layout-item>
                            <lightning-layout-item padding="around-small" size="6">
                                <lightning-combobox name="Lead Status" label=" LeadSource" value={source} placeholder="Select Progress" options={leadSourceOptions} onchange={handleChangeleadsource} disabled></lightning-combobox>
                            </lightning-layout-item>
                            <lightning-layout-item padding="around-small" size="6">
                                <lightning-combobox name="Lead Status" label=" Lead Status" value={LeadStatus} options={steps} onchange={handleChangeleadstatus}></lightning-combobox>
                            </lightning-layout-item>
                            <lightning-layout-item padding="around-small" size="6">
                                <lightning-input type="phone" label="Mobile" value={MobilePhone} onchange={handleleadmoblie} required disabled></lightning-input>
                            </lightning-layout-item>
                            <lightning-layout-item padding="around-small" size="6">
                                <lightning-input type="Email" label="Email" value={leademail} onchange={handleleadeamil}></lightning-input>
                            </lightning-layout-item>
                            <lightning-layout-item padding="around-small" size="6">
                                <lightning-input type="number" label="Lead Age(In Days)" value={LeadAge} disabled></lightning-input>
                            </lightning-layout-item>
                            <lightning-layout-item padding="around-small" size="6">
                                <lightning-input type="text" label="Lead Owner" value={leadowner} onchange={handleleadowner} disabled></lightning-input>
                            </lightning-layout-item>
                            <lightning-layout-item padding="around-small" size="6">
                                <lightning-input type="text" label="PS Name" value={psname} onchange={handlepsname}></lightning-input>
                            </lightning-layout-item>
                        </lightning-layout>
                        <lightning-card title="Address">
                            <div class="slds-p-around_medium">
                                <lightning-textarea type="text" label="Street" value={street} onchange={handlestreet}></lightning-textarea>
                                <lightning-layout>
                                    <lightning-layout-item padding="around-small" size="6">
                                        <lightning-input type="text" label="City" value={city} onchange={handlecity}></lightning-input>
                                    </lightning-layout-item>
                                    <lightning-layout-item padding="around-small" size="6">
                                        <lightning-combobox name="progress" label="Country" value={country} options={countryoptions} onchange={handlecountry}></lightning-combobox>
                                    </lightning-layout-item>
                                </lightning-layout>
                                <lightning-layout>
                                    <lightning-layout-item padding="around-small" size="6">
                                        <lightning-input type="text" label="Postal Code" value={postalCode} onchange={handlepostalcode}></lightning-input>
                                    </lightning-layout-item>
                                    <lightning-layout-item padding="around-small" size="6">
                                        <lightning-combobox name="progress" label="State" value={state} options={stateoptions} onchange={handlestate}></lightning-combobox>
                                    </lightning-layout-item>
                                </lightning-layout>
                            </div>
                        </lightning-card>

                        <!-- <div class="slds-modal__content slds-p-around_medium">
                            <lightning-radio-group name="radioGroup" label="Choose Any Action" options={chooseactionoptions} value={chooseoption} onchange={ChooseAnyactionchange} type="button"></lightning-radio-group>
                        </div>

                        <div if:true={Ridetypetrue}>
                            <div class="slds-modal__content slds-p-around_medium">
                                <lightning-radio-group name="radioGroup" label="Select Test Ride Type" options={Ridetypeoptions} value={Ridetypevale} onchange={Ridetypeoptionschange} required type="radio"></lightning-radio-group>
                            </div>
                        </div>

                        <template if:true={isshowTestRideModalstore}>
                            <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
                                <div class="slds-modal__container">
                                    <header class="slds-modal__header">
                                        <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={cancelNewTestRidestrore}>
                                            <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                                            <span class="slds-assistive-text">Close</span>
                                        </button>
                                        <h2 class="slds-text-heading_medium">New TestRide</h2>
                                    </header>
                                    <div class="slds-modal__content slds-p-around_medium">
                                        <lightning-input type="text" label="Lead Name" disabled value={LeadName} minlength="3"></lightning-input>
                                        <div class="custom-datetime">
                                            <lightning-input type="datetime" label="Test Ride Date" value={testridestorevaluedate} onchange={testridestorevaluedatehandle}></lightning-input>
                                            <template if:true={errordateMessage}>
                                                <p class="slds-text-color_error">{errordateMessage}</p>
                                            </template>
                                        </div>
                                    </div>
                                    <footer class="slds-modal__footer slds-text-align_center">
                                        <lightning-button variant="success" label="Save" title="Successful action" onclick={handlestoresaveClick} class="slds-m-left_x-small"></lightning-button>
                                        <lightning-button variant="destructive" label="Cancel" title="Successful action" onclick={cancelNewTestRidestrore} class="slds-m-left_x-small"></lightning-button>
                                    </footer>
                                </div>
                            </section>
                            <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
                        </template>

                        <template if:true={isshowTestRideModalhome}>
                            <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open ">
                                <div class="slds-modal__container">
                                    <header class="slds-modal__header">
                                        <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={cancelNewTestRidehome}>
                                            <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                                            <span class="slds-assistive-text">Close</span>
                                        </button>
                                        <h2 class="slds-text-heading_medium">New TestRide</h2>
                                    </header>
                                    <div class="slds-modal__content slds-p-around_medium">
                                        <lightning-input type="text" label="Lead Name" disabled value={LeadName} minlength="3"></lightning-input>
                                        <lightning-input type="datetime" name="input2" label="Test Ride Date" value={testridehomevaluedate} onchange={testridehomevaluedatehandle} minlength={todaysDate}></lightning-input>
                                        <template if:true={errordateMessage}>
                                            <p class="slds-text-color_error">{errordateMessage}</p>
                                        </template>
                                        <lightning-card title="Address">
                                            <div class="slds-p-around_medium">
                                                <lightning-textarea type="text" label="Street" value={street} onchange={handlestreet}></lightning-textarea>
                                                <lightning-layout>
                                                    <lightning-layout-item padding="around-small" size="6">
                                                        <lightning-input type="text" label="City" value={city} onchange={handlecity}></lightning-input>
                                                    </lightning-layout-item>
                                                    <lightning-layout-item padding="around-small" size="6">
                                                        <lightning-combobox name="progress" label="Country" value={country} options={countryoptions} onchange={handlecountry}></lightning-combobox>
                                                    </lightning-layout-item>
                                                </lightning-layout>
                                                <lightning-layout>
                                                    <lightning-layout-item padding="around-small" size="6">
                                                        <lightning-input type="text" label="Postal Code" value={postalCode} onchange={handlepostalcode}></lightning-input>
                                                    </lightning-layout-item>
                                                    <lightning-layout-item padding="around-small" size="6">
                                                        <lightning-combobox name="progress" label="State" value={state} options={stateoptions} onchange={handlestate}></lightning-combobox>
                                                    </lightning-layout-item>
                                                </lightning-layout>
                                            </div>
                                        </lightning-card>
                                        <footer class="slds-modal__footer slds-text-align_center">
                                            <lightning-button variant="success" label="Save" title="Successful action" onclick={handlehomesaveClick} class="slds-m-left_x-small"></lightning-button>
                                            <lightning-button variant="destructive" label="Cancel" title="Successful action" onclick={cancelNewTestRidehome} class="slds-m-left_x-small"></lightning-button>
                                        </footer>
                                    </div>
                                </div>
                            </section>
                            <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
                        </template>

                        <template if:true={lostleadtrue}>
                            <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
                                <div class="slds-modal__container">
                                    <header class="slds-modal__header">
                                        <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={todaysfollowuplostleadsavedeatailscancel}>
                                            <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                                            <span class="slds-assistive-text">Close</span>
                                        </button>
                                        <h2 class="slds-text-heading_medium">Lead Lost</h2>
                                    </header>
                                    <div class="slds-modal__content slds-p-around_medium">
                                        <lightning-combobox name="progress" label="Reason" value={reasonvalue} options={reasonoptions} onchange={reasonhandleChange}></lightning-combobox>
                                        <lightning-input type="text" label="Cancel For Reason" value={leadcancelreason} onchange={handleleadcancelreason} required minlength="6"></lightning-input>
                                    </div>
                                    <footer class="slds-modal__footer slds-text-align_center">
                                        <lightning-button variant="success" label="Save" title="Successful action" onclick={todaysfollowuplostleadsavedeatails} class="slds-m-left_x-small"></lightning-button>
                                        <lightning-button variant="destructive" label="Cancel" onclick={todaysfollowuplostleadsavedeatailscancel} class="slds-m-left_x-small"></lightning-button>
                                    </footer>
                                </div>
                            </section>
                            <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
                        </template>

                        <template if:true={followoptionchoose}>
                            <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
                                <div class="slds-modal__container">
                                    <header class="slds-modal__header">
                                        <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={cancelfollowoptionchoose}>
                                            <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                                            <span class="slds-assistive-text">Close</span>
                                        </button>
                                        <h2 class="slds-text-heading_medium">New Follow UP</h2>
                                    </header>
                                    <div class="slds-modal__content slds-p-around_medium">
                                        <lightning-radio-group name="radioGroup" label="Follow Up Subject" options={followoptionchooseoptions} value={followoptionchoosevalue} onchange={followoptionchoosechange} required type="radio"></lightning-radio-group>
                                    </div>
                                    <footer class="slds-modal__footer slds-text-align_center"></footer>
                                </div>
                            </section>
                            <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
                        </template>

                        <template if:true={bookedtrue}>
                            <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
                                <div class="slds-modal__container">
                                    <header class="slds-modal__header">
                                        <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={cancelbookedtruecancel}>
                                            <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                                            <span class="slds-assistive-text">Close</span>
                                        </button>
                                        <h2 class="slds-text-heading_medium">New Follow UP</h2>
                                    </header>
                                    <div class="slds-modal__content slds-p-around_medium">
                                        <lightning-input type="text" label="Enter Booking ID" value={bookingId} onchange={bookingidhandler}></lightning-input>
                                    </div>
                                    <footer class="slds-modal__footer slds-text-align_center">
                                        <lightning-button variant="success" label="Save" title="Successful action" onclick={handlebookidsaveClick} class="slds-m-left_x-small"></lightning-button>
                                        <lightning-button variant="destructive" label="Cancel" title="Successful action" onclick={handlebookidcancelClick} class="slds-m-left_x-small"></lightning-button>
                                    </footer>
                                </div>
                            </section>
                            <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
                        </template>

                        <template if:true={newfollowuptrue}>
                            <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
                                <div class="slds-modal__container">
                                    <header class="slds-modal__header">
                                        <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={handlenewfollowupcancelClick}>
                                            <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                                            <span class="slds-assistive-text">Close</span>
                                        </button>
                                        <h2 class="slds-text-heading_medium">New Follow UP</h2>
                                    </header>
                                    <div class="slds-modal__content slds-p-around_medium">
                                        <lightning-input type="datetime" name="input2" label="Followup Date" value={newfollowupdate} onchange={followupdatehandle}></lightning-input>
                                        <template if:true={errordateMessage}>
                                            <p class="slds-text-color_error">{errordateMessage}</p>
                                        </template>
                                        <lightning-input type="text" label="Follow up Feedback" value={newFollowupfeedbck} onchange={followupfeedbackHandler} min={todaysDate}></lightning-input>
                                    </div>
                                    <footer class="slds-modal__footer slds-text-align_center">
                                        <lightning-button variant="success" label="Save" title="Successful action" onclick={handlenewfollowupsaveClick} class="slds-m-left_x-small"></lightning-button>
                                        <lightning-button variant="destructive" label="Cancel" title="Successful action" onclick={handlenewfollowupcancelClick} class="slds-m-left_x-small"></lightning-button>
                                    </footer>
                                </div>
                            </section>
                            <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
                        </template> -->

                        <footer class="slds-modal__footer slds-text-align_center">
                            <lightning-button variant="brand" label="Save" onclick={handlesave} class="slds-m-left_x-small"></lightning-button>
                            <lightning-button variant="brand" label="Cancel" onclick={cancelclick} class="slds-m-left_x-small"></lightning-button>
                            <div if:true={isConvert}>
                                <lightning-button variant="sucess" label="Convert" onclick={handleleadconvert} class="slds-m-left_x-small"></lightning-button>
                            </div>
                        </footer>
                    </lightning-card>
                </div>
                <!-- <div if:true={completeActionModal}>
                    <div class="slds-modal__content slds-p-around_medium">
                        <lightning-radio-group name="radioGroup" label="Choose Any Action" options={chooseactionoptions} value={chooseoption} onchange={ChooseAnyactionchange} type="button"></lightning-radio-group>
                    </div>

                    <div if:true={Ridetypetrue}>
                        <div class="slds-modal__content slds-p-around_medium">
                            <lightning-radio-group name="radioGroup" label="Select Test Ride Type" options={Ridetypeoptions} value={Ridetypevale} onchange={Ridetypeoptionschange} required type="radio"></lightning-radio-group>
                        </div>
                    </div>

                    <template if:true={isshowTestRideModalstore}>
                        <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
                            <div class="slds-modal__container">
                                <header class="slds-modal__header">
                                    <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={cancelNewTestRidestrore}>
                                        <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                                        <span class="slds-assistive-text">Close</span>
                                    </button>
                                    <h2 class="slds-text-heading_medium">New TestRide</h2>
                                </header>
                                <div class="slds-modal__content slds-p-around_medium">
                                    <lightning-input type="text" label="Lead Name" disabled value={LeadName} minlength="3"></lightning-input>
                                    <div class="custom-datetime">
                                        <lightning-input type="datetime" label="Test Ride Date" value={testridestorevaluedate} onchange={testridestorevaluedatehandle}></lightning-input>
                                        <template if:true={errordateMessage}>
                                            <p class="slds-text-color_error">{errordateMessage}</p>
                                        </template>
                                    </div>
                                </div>
                                <footer class="slds-modal__footer slds-text-align_center">
                                    <lightning-button variant="success" label="Save" title="Successful action" onclick={handlestoresaveClick} class="slds-m-left_x-small"></lightning-button>
                                    <lightning-button variant="destructive" label="Cancel" title="Successful action" onclick={cancelNewTestRidestrore} class="slds-m-left_x-small"></lightning-button>
                                </footer>
                            </div>
                        </section>
                        <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
                    </template>

                    <template if:true={isshowTestRideModalhome}>
                        <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open ">
                            <div class="slds-modal__container">
                                <header class="slds-modal__header">
                                    <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={cancelNewTestRidehome}>
                                        <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                                        <span class="slds-assistive-text">Close</span>
                                    </button>
                                    <h2 class="slds-text-heading_medium">New TestRide</h2>
                                </header>
                                <div class="slds-modal__content slds-p-around_medium">
                                    <lightning-input type="text" label="Lead Name" disabled value={LeadName} minlength="3"></lightning-input>
                                    <lightning-input type="datetime" name="input2" label="Test Ride Date" value={testridehomevaluedate} onchange={testridehomevaluedatehandle} minlength={todaysDate}></lightning-input>
                                    <template if:true={errordateMessage}>
                                        <p class="slds-text-color_error">{errordateMessage}</p>
                                    </template>
                                    <lightning-card title="Address">
                                        <div class="slds-p-around_medium">
                                            <lightning-textarea type="text" label="Street" value={street} onchange={handlestreet}></lightning-textarea>
                                            <lightning-layout>
                                                <lightning-layout-item padding="around-small" size="6">
                                                    <lightning-input type="text" label="City" value={city} onchange={handlecity}></lightning-input>
                                                </lightning-layout-item>
                                                <lightning-layout-item padding="around-small" size="6">
                                                    <lightning-combobox name="progress" label="Country" value={country} options={countryoptions} onchange={handlecountry}></lightning-combobox>
                                                </lightning-layout-item>
                                            </lightning-layout>
                                            <lightning-layout>
                                                <lightning-layout-item padding="around-small" size="6">
                                                    <lightning-input type="text" label="Postal Code" value={postalCode} onchange={handlepostalcode}></lightning-input>
                                                </lightning-layout-item>
                                                <lightning-layout-item padding="around-small" size="6">
                                                    <lightning-combobox name="progress" label="State" value={state} options={stateoptions} onchange={handlestate}></lightning-combobox>
                                                </lightning-layout-item>
                                            </lightning-layout>
                                        </div>
                                    </lightning-card>
                                    <footer class="slds-modal__footer slds-text-align_center">
                                        <lightning-button variant="success" label="Save" title="Successful action" onclick={handlehomesaveClick} class="slds-m-left_x-small"></lightning-button>
                                        <lightning-button variant="destructive" label="Cancel" title="Successful action" onclick={cancelNewTestRidehome} class="slds-m-left_x-small"></lightning-button>
                                    </footer>
                                </div>
                            </div>
                        </section>
                        <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
                    </template>

                    <template if:true={lostleadtrue}>
                        <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
                            <div class="slds-modal__container">
                                <header class="slds-modal__header">
                                    <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={todaysfollowuplostleadsavedeatailscancel}>
                                        <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                                        <span class="slds-assistive-text">Close</span>
                                    </button>
                                    <h2 class="slds-text-heading_medium">Lead Lost</h2>
                                </header>
                                <div class="slds-modal__content slds-p-around_medium">
                                    <lightning-combobox name="progress" label="Reason" value={reasonvalue} options={reasonoptions} onchange={reasonhandleChange}></lightning-combobox>
                                    <lightning-input type="text" label="Cancel For Reason" value={leadcancelreason} onchange={handleleadcancelreason} required minlength="6"></lightning-input>
                                </div>
                                <footer class="slds-modal__footer slds-text-align_center">
                                    <lightning-button variant="success" label="Save" title="Successful action" onclick={todaysfollowuplostleadsavedeatails} class="slds-m-left_x-small"></lightning-button>
                                    <lightning-button variant="destructive" label="Cancel" onclick={todaysfollowuplostleadsavedeatailscancel} class="slds-m-left_x-small"></lightning-button>
                                </footer>
                            </div>
                        </section>
                        <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
                    </template>

                    <template if:true={followoptionchoose}>
                        <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
                            <div class="slds-modal__container">
                                <header class="slds-modal__header">
                                    <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={cancelfollowoptionchoose}>
                                        <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                                        <span class="slds-assistive-text">Close</span>
                                    </button>
                                    <h2 class="slds-text-heading_medium">New Follow UP</h2>
                                </header>
                                <div class="slds-modal__content slds-p-around_medium">
                                    <lightning-radio-group name="radioGroup" label="Follow Up Subject" options={followoptionchooseoptions} value={followoptionchoosevalue} onchange={followoptionchoosechange} required type="radio"></lightning-radio-group>
                                </div>
                                <footer class="slds-modal__footer slds-text-align_center"></footer>
                            </div>
                        </section>
                        <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
                    </template>

                    <template if:true={bookedtrue}>
                        <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
                            <div class="slds-modal__container">
                                <header class="slds-modal__header">
                                    <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={cancelbookedtruecancel}>
                                        <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                                        <span class="slds-assistive-text">Close</span>
                                    </button>
                                    <h2 class="slds-text-heading_medium">New Follow UP</h2>
                                </header>
                                <div class="slds-modal__content slds-p-around_medium">
                                    <lightning-input type="text" label="Enter Booking ID" value={bookingId} onchange={bookingidhandler}></lightning-input>
                                </div>
                                <footer class="slds-modal__footer slds-text-align_center">
                                    <lightning-button variant="success" label="Save" title="Successful action" onclick={handlebookidsaveClick} class="slds-m-left_x-small"></lightning-button>
                                    <lightning-button variant="destructive" label="Cancel" title="Successful action" onclick={handlebookidcancelClick} class="slds-m-left_x-small"></lightning-button>
                                </footer>
                            </div>
                        </section>
                        <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
                    </template>

                    <template if:true={newfollowuptrue}>
                        <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
                            <div class="slds-modal__container">
                                <header class="slds-modal__header">
                                    <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={handlenewfollowupcancelClick}>
                                        <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                                        <span class="slds-assistive-text">Close</span>
                                    </button>
                                    <h2 class="slds-text-heading_medium">New Follow UP</h2>
                                </header>
                                <div class="slds-modal__content slds-p-around_medium">
                                    <lightning-input type="datetime" name="input2" label="Followup Date" value={newfollowupdate} onchange={followupdatehandle}></lightning-input>
                                    <template if:true={errordateMessage}>
                                        <p class="slds-text-color_error">{errordateMessage}</p>
                                    </template>
                                    <lightning-input type="text" label="Follow up Feedback" value={newFollowupfeedbck} onchange={followupfeedbackHandler} min={todaysDate}></lightning-input>
                                </div>
                                <footer class="slds-modal__footer slds-text-align_center">
                                    <lightning-button variant="success" label="Save" title="Successful action" onclick={handlenewfollowupsaveClick} class="slds-m-left_x-small"></lightning-button>
                                    <lightning-button variant="destructive" label="Cancel" title="Successful action" onclick={handlenewfollowupcancelClick} class="slds-m-left_x-small"></lightning-button>
                                </footer>
                            </div>
                        </section>
                        <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
                    </template>
                </div> -->
            </lightning-card> 
        </div>

        <div if:true={showLeadDetails} class="slds-col slds-size_1-of-1">
            <div class="custom-card">
            <!-- <lightning-card> -->
                <div class="custom-header slds-p-horizontal_medium slds-grid slds-grid_align-spread">
                    <div class="slds-grid slds-align-center">
                        <lightning-icon icon-name="standard:lead" size="small" class="slds-m-right_small"></lightning-icon>
                        <div class="slds-text-heading_medium slds-text-color_inverse">Leads</div>
                    </div>
                    <div class="slds-text-color_inverse">Num of Leads: <strong>{leadsCount}</strong></div>
                </div>

                <div class="slds-grid slds-gutters slds-p-around_small slds-m-around_medium slds-grid_align-center">
                    <div class="slds-col slds-size_1-of-3">
                        <lightning-input type="date" label="From Date" value={fromDate} onchange={handleFromDateChange}></lightning-input>
                    </div>
                    <div class="slds-col slds-size_1-of-3">
                        <lightning-input type="date" label="To Date" value={toDate} onchange={handleToDateChange}></lightning-input>
                    </div>
                    <div class="slds-col slds-size_1-of-6 slds-align-bottom">
                        <lightning-button label="Search" onclick={filterLeadsByDateRange} variant="brand"></lightning-button>
                    </div>
                </div>

                <template if:true={leadsRecordFound}>
                    <div class="table-container" style="height:515px;">
                        <lightning-datatable key-field="id" data={dataLeads} columns={leadsColumns} show-row-number-column hide-checkbox-column></lightning-datatable>
                    </div>
                    <!-- Pagination Controls -->
                    <div class="slds-grid slds-grid_align-center slds-m-top_medium">
                        <lightning-button label="Previous" onclick={handlePrevious1} disabled={disablePrevious1} class="slds-m-right_small"></lightning-button>
                        <span class="slds-text-title_bold"> Page {currentPage1} of {totalPages} </span>
                        <lightning-button label="Next" onclick={handleNext1} disabled={disableNext1} class="slds-m-left_small"></lightning-button>
                    </div> 
                    
                </template>
                <template if:false={leadsRecordFound}>
                    <div class="slds-m-around_medium">
                        No Records Found
                    </div>
                </template>
            <!-- </lightning-card> -->
            </div>      
        </div>

        <div if:true={ifFollowUp} class="slds-col slds-size_1-of-1">
            <div class="custom-card">
                <div class="custom-header slds-p-horizontal_medium slds-grid slds-grid_align-spread slds-align-center">
                    <div class="slds-grid slds-align-center">
                        <lightning-icon icon-name="custom:custom63" size="small" class="slds-m-right_small"></lightning-icon>
                        <div class="slds-text-heading_medium slds-text-color_inverse">Follow-Ups</div>
                    </div>
                    <div class="slds-text-color_inverse">Num of Follow-Ups: <strong>{followupscount}</strong></div>
                </div>

                <div class="slds-grid slds-gutters slds-p-around_small slds-m-around_medium slds-grid_align-center">
                    <div class="slds-col slds-size_1-of-3">
                        <lightning-input type="date" label="From Date" value={fromDate} onchange={handleFromDateChange}></lightning-input>
                    </div>
                    <div class="slds-col slds-size_1-of-3">
                        <lightning-input type="date" label="To Date" value={toDate} onchange={handleToDateChange}></lightning-input>
                    </div>
                    <div class="slds-col slds-size_1-of-6 slds-align-bottom">
                        <lightning-button label="Search" onclick={filterLeads} variant="brand"></lightning-button>
                    </div>
                </div>

                <template if:true={recordId}></template>
                <template if:true={isShowModal}>
                    <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
                        <div class="slds-modal__container">
                            <header class="slds-modal__header">
                                <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={cancelNewFollowUp}>
                                    <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                                    <span class="slds-assistive-text">Close</span>
                                </button>
                                <h2 class="slds-text-heading_medium">New Follow UP</h2>
                            </header>
                            <div class="slds-modal__content slds-p-around_medium">
                                <lightning-flow flow-api-name={flowApiName} flow-input-variables={flowInputVariables}></lightning-flow>
                            </div>
                            <footer class="slds-modal__footer slds-text-align_center"></footer>
                        </div>
                    </section>
                    <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
                </template>
                <template if:true={bRecordFound}>
                    <div class="table-container" style="height:515px;">
                        <lightning-datatable key-field="id" data={dataFolloUp} columns={followUpColumns} show-row-number-column hide-checkbox-column onrowaction={handleFolluwUpRowAction}></lightning-datatable>
                    </div>
                    <div class="slds-grid slds-grid_align-center slds-m-top_medium">
                        <lightning-button label="Previous" onclick={moveToPreviousFollowUpPage} disabled={disableFollowUpPrev} class="slds-m-right_small"></lightning-button>
                        <span class="slds-text-title_bold"> Page {currentFollowUpPage} of {totalFollowUpPages} </span>
                        <lightning-button label="Next" onclick={moveToNextFollowUpPage} disabled={disableFollowUpNext} class="slds-m-left_small"></lightning-button>
                    </div>
                </template>
                <template if:false={bRecordFound}>
                    <div class="slds-m-around_medium">
                        No Records Found
                    </div>
                </template>
                <template if:true={showFeedbackModal}>
                    <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
                        <div class="slds-modal__container">
                            <header class="slds-modal__header">
                                <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={closeFeedbackModal}>
                                    <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                                    <span class="slds-assistive-text">Close</span>
                                </button>
                                <h2 class="slds-text-heading_medium">Provide Feedback</h2>
                            </header>
                            <div class="slds-modal__content slds-p-around_medium" style="padding-bottom: 34%;">
                                <lightning-textarea label="Feedback" value={FeedbackValue} onchange={handleFeedbackChange}></lightning-textarea>
                            </div>
                            <footer class="slds-modal__footer slds-text-align_center">
                                <lightning-button variant="neutral" label="Cancel" onclick={closeFeedbackModal} class="slds-m-left_x-small"></lightning-button>
                                <lightning-button variant="brand" label="Submit" onclick={handlefeedbacksubmit} class="slds-m-left_x-small"></lightning-button>
                            </footer>
                        </div>
                    </section>
                    <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
                </template>

                <template if:true={shownewfollowupModal}>
                    <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
                        <div class="slds-modal__container">
                            <header class="slds-modal__header">
                                <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={handlenewfollowupcancelClick}>
                                    <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                                    <span class="slds-assistive-text">Close</span>
                                </button>
                                <h2 class="slds-text-heading_medium">Action To be taken</h2>
                            </header>
                            <div class="slds-modal__content slds-p-around_medium">
                                <lightning-radio-group name="radioGroup" options={todayfollowupchooseoptions} value={todayfollowupchooseoptionsvalue} onchange={todayfollowupchooseoptionshandlechange} type="radio"></lightning-radio-group>
                            </div>
                            <footer class="slds-modal__footer slds-text-align_center"></footer>
                        </div>
                    </section>
                    <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
                </template>

                <template if:true={newfollowupModal}>
                    <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
                        <div class="slds-modal__container">
                            <header class="slds-modal__header">
                                <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={handlenewfollowupcancelClick}>
                                    <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                                    <span class="slds-assistive-text">Close</span>
                                </button>
                                <h2 class="slds-text-heading_medium">New Follow UP</h2>
                            </header>
                            <div class="slds-modal__content slds-p-around_medium">
                                <lightning-input type="datetime" name="input2" label="Followup Date" value={newfollowupdate} onchange={followupdatehandle}></lightning-input>
                                <template if:true={errordateMessage}>
                                    <p class="slds-text-color_error">{errordateMessage}</p>
                                </template>
                                <lightning-input type="text" label="Follow up Feedback" value={newFollowupfeedbck} onchange={followupfeedbackHandler} min={todaysDate}></lightning-input>
                            </div>
                            <footer class="slds-modal__footer slds-text-align_center">
                                <lightning-button variant="success" label="Save" title="Successful action" onclick={newfollowupsubmit} class="slds-m-left_x-small"></lightning-button>
                                <lightning-button variant="destructive" label="Cancel" title="Successful action" onclick={handlenewfollowupcancelClick} class="slds-m-left_x-small"></lightning-button>
                            </footer>
                        </div>
                    </section>
                    <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
                </template>
                <template if:true={isshowTestRideModalstore}>
                    <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
                        <div class="slds-modal__container">
                            <header class="slds-modal__header">
                                <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={cancelNewTestRidestrore}>
                                    <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                                    <span class="slds-assistive-text">Close</span>
                                </button>
                                <h2 class="slds-text-heading_medium">New TestRide</h2>
                            </header>
                            <div class="slds-modal__content slds-p-around_medium">
                                <lightning-input type="text" label="Lead Name" disabled value={LeadName} minlength="3"></lightning-input>
                                <lightning-input type="datetime" label="Test Ride Date" value={testridestorevaluedate} onchange={testridestorevaluedatehandle}></lightning-input>
                                <template if:true={errordateMessage}>
                                    <p class="slds-text-color_error">{errordateMessage}</p>
                                </template>
                            </div>
                            <footer class="slds-modal__footer slds-text-align_center">
                                <lightning-button variant="success" label="Save" title="Successful action" onclick={todaysfollowuphandlestoresaveClick} class="slds-m-left_x-small"></lightning-button>
                                <lightning-button variant="destructive" label="Cancel" title="Successful action" onclick={cancelNewTestRidestrore} class="slds-m-left_x-small"></lightning-button>
                            </footer>
                        </div>
                    </section>
                    <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
                </template>

                <template if:true={isshowTestRideModalhome}>
                    <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open ">
                        <div class="slds-modal__container">
                            <header class="slds-modal__header">
                                <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={cancelNewTestRidehome}>
                                    <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                                    <span class="slds-assistive-text">Close</span>
                                </button>
                                <h2 class="slds-text-heading_medium">New TestRide</h2>
                            </header>
                            <div class="slds-modal__content slds-p-around_medium">
                                <lightning-input type="text" label="Lead Name" disabled value={LeadName} minlength="3"></lightning-input>
                                <lightning-input type="datetime" name="input2" label="Test Ride Date" value={testridehomevaluedate} onchange={testridehomevaluedatehandle} minlength={todaysDate}></lightning-input>
                                <template if:true={errordateMessage}>
                                    <p class="slds-text-color_error">{errordateMessage}</p>
                                </template>
                                <lightning-card title="Address">
                                    <div class="slds-p-around_medium">
                                        <lightning-textarea type="text" label="Street" value={street} onchange={handlestreet}></lightning-textarea>
                                        <lightning-layout>
                                            <lightning-layout-item padding="around-small" size="6">
                                                <lightning-input type="text" label="City" value={city} onchange={handlecity}></lightning-input>
                                            </lightning-layout-item>
                                            <lightning-layout-item padding="around-small" size="6">
                                                <lightning-combobox name="progress" label="Country" value={country} options={countryoptions} onchange={handlecountry}></lightning-combobox>
                                            </lightning-layout-item>
                                        </lightning-layout>
                                        <lightning-layout>
                                            <lightning-layout-item padding="around-small" size="6">
                                                <lightning-input type="text" label="Postal Code" value={postalCode} onchange={handlepostalcode}></lightning-input>
                                            </lightning-layout-item>
                                            <lightning-layout-item padding="around-small" size="6">
                                                <lightning-combobox name="progress" label="State" value={state} options={stateoptions} onchange={handlestate}></lightning-combobox>
                                            </lightning-layout-item>
                                        </lightning-layout>
                                    </div>
                                </lightning-card>
                                <footer class="slds-modal__footer slds-text-align_center">
                                    <lightning-button variant="success" label="Save" title="Successful action" onclick={todaysfollowuphandlehomesaveClick} class="slds-m-left_x-small"></lightning-button>
                                    <lightning-button variant="destructive" label="Cancel" title="Successful action" onclick={cancelNewTestRidehome} class="slds-m-left_x-small"></lightning-button>
                                </footer>
                            </div>
                        </div>
                    </section>
                    <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
                </template>
                <template if:true={Ridetypetrue}>
                    <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
                        <div class="slds-modal__container">
                            <header class="slds-modal__header">
                                <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={todaysfollowupRidetypetruecancel}>
                                    <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                                    <span class="slds-assistive-text">Close</span>
                                </button>
                                <h2 class="slds-text-heading_medium">New Follow UP</h2>
                            </header>
                            <div class="slds-modal__content slds-p-around_medium">
                                <lightning-radio-group name="radioGroup" label="Select Test Ride Type" options={Ridetypeoptions} value={Ridetypevale} onchange={Ridetypeoptionschange} required type="radio"></lightning-radio-group>
                            </div>
                        </div>
                    </section>
                    <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
                </template>
                <template if:true={lostleadtrue}>
                    <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
                        <div class="slds-modal__container">
                            <header class="slds-modal__header">
                                <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={todaysfollowuplostleadcancel}>
                                    <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                                    <span class="slds-assistive-text">Close</span>
                                </button>
                                <h2 class="slds-text-heading_medium">Lead Lost</h2>
                            </header>
                            <div class="slds-modal__content slds-p-around_medium">
                                <lightning-combobox name="progress" label="Reason" value={reasonvalue} options={reasonoptions} onchange={reasonhandleChange}></lightning-combobox>
                                <lightning-input type="text" label="Cancel For Reason" value={leadcancelreason} onchange={handleleadcancelreason} required minlength="6"></lightning-input>
                            </div>
                            <footer class="slds-modal__footer slds-text-align_center">
                                <lightning-button variant="success" label="Save" title="Successful action" onclick={todaysfollowuplostleadsave} class="slds-m-left_x-small"></lightning-button>
                                <lightning-button variant="destructive" label="Cancel" title="Successful action" onclick={todaysfollowuplostleadcancel} class="slds-m-left_x-small"></lightning-button>
                            </footer>
                        </div>
                    </section>
                    <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
                </template>
            </div>
        </div>

        <div if:true={ifTesTRideUp} class="slds-col slds-size_1-of-1" style="height:720px;">
            <div class="custom-card">
                <div class="custom-header slds-p-horizontal_medium slds-grid slds-grid_align-spread slds-align-center">
                    <div class="slds-grid slds-align-center">
                        <lightning-icon icon-name="custom:custom98" size="small" class="slds-m-right_small"></lightning-icon>
                        <div class="slds-text-heading_medium slds-text-color_inverse">Test Rides</div>
                    </div>
                    <div class="slds-text-color_inverse">Num of Test Rides: <strong>{testridescount}</strong></div>
                </div>

                <div class="slds-grid slds-gutters slds-p-around_small slds-m-around_medium slds-grid_align-center">
                    <div class="slds-col slds-size_1-of-3">
                        <lightning-input type="date" label="From Date" value={fromDate} onchange={handleFromDateChange}></lightning-input>
                    </div>
                    <div class="slds-col slds-size_1-of-3">
                        <lightning-input type="date" label="To Date" value={toDate} onchange={handleToDateChange}></lightning-input>
                    </div>
                    <div class="slds-col slds-size_1-of-6 slds-align-bottom">
                        <lightning-button label="Search" onclick={filterTestRides} variant="brand"></lightning-button>
                    </div>
                </div>                

                <template if:true={recordId}></template>
                <template if:true={Ridetypetrue}>
                    <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
                        <div class="slds-modal__container">
                            <header class="slds-modal__header">
                                <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={cancelridetypepopup}>
                                    <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                                    <span class="slds-assistive-text">Close</span>
                                </button>
                                <h2 class="slds-text-heading_medium">New Follow UP</h2>
                            </header>
                            <div class="slds-modal__content slds-p-around_medium">
                                <lightning-radio-group name="radioGroup" label="Select Ride Type" options={Ridetypeoptions} value={Ridetypevale} onchange={Ridetypeoptionschange} required type="radio"></lightning-radio-group>
                            </div>
                            <footer class="slds-modal__footer slds-text-align_center"></footer>
                        </div>
                    </section>
                    <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
                </template>

                <template if:true={isshowTestRideModal}>
                    <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
                        <div class="slds-modal__container">
                            <header class="slds-modal__header">
                                <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={cancelNewTestRide}>
                                    <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                                    <span class="slds-assistive-text">Close</span>
                                </button>
                                <h2 class="slds-text-heading_medium">New TestRide</h2>
                            </header>
                            <div class="slds-modal__content slds-p-around_medium">
                                <lightning-flow flow-api-name={flowApiNameTestRide} flow-input-variables={flowInputVariables}></lightning-flow>
                            </div>
                        </div>
                    </section>
                    <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
                </template>
                <template if:true={btestRideRecordFound}>
                    <div class="table-container" style="height:515px;">
                        <lightning-datatable key-field="id" data={datatestRides} columns={testRidecolumns} show-row-number-column hide-checkbox-column onrowaction={handleTestRideRowAction}></lightning-datatable>
                    </div>

                    <!-- Pagination Controls -->
                    <div class="slds-m-top_medium slds-grid slds-grid_align-center slds-grid_vertical-align-center">
                        <lightning-button label="Previous" onclick={goToPreviousRidePage} disabled={disableRidePrev} class="slds-m-right_small"></lightning-button>
                        <span class="slds-text-title_bold"> Page {activePage} of {totalRidePages} </span>
                        <lightning-button label="Next" onclick={goToNextRidePage} disabled={disableRideNext} class="slds-m-left_small"></lightning-button>
                    </div>

                    <!-- Confirmation Modal for "Closed Lost" -->
                    <template if:true={showConfirmModal}>
                        <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
                            <div class="slds-modal__container">
                                <header class="slds-modal__header">
                                    <h2 class="slds-text-heading_medium">Lead Lost</h2>
                                </header>
                                <div class="slds-modal__content slds-p-around_medium">
                                    <lightning-combobox name="progress" label="Reason" value={reasonvalue} options={reasonoptions} onchange={reasonhandleChange}></lightning-combobox>
                                    <lightning-input type="text" label="Cancel For Reason" value={leadcancelreason} onchange={handleleadcancelreason} required minlength="6"></lightning-input>
                                </div>
                                <footer class="slds-modal__footer slds-text-align_center">
                                    <lightning-button variant="success" label="Save" title="Successful action" onclick={confirmClosedLost} class="slds-m-left_x-small"></lightning-button>
                                    <lightning-button variant="destructive" label="Cancel" onclick={handleCancel} class="slds-m-left_x-small"></lightning-button>
                                </footer>
                            </div>
                        </section>
                        <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
                    </template>
                </template>
                <template if:true={showcancelModal}>
                    <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
                        <div class="slds-modal__container">
                            <header class="slds-modal__header">
                                <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={closecancelModal}>
                                    <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                                    <span class="slds-assistive-text">Close</span>
                                </button>
                                <h2 class="slds-text-heading_medium">Follow up for No Show</h2>
                            </header>
                            <div class="slds-modal__content slds-p-around_medium">
                                <lightning-input type="datetime" name="date" label="Select Date" value={newcNowshowfollowupdate} onchange={followupdatehandle}></lightning-input>
                                <template if:true={errordateMessage}>
                                    <p class="slds-text-color_error">{errordateMessage}</p>
                                </template>
                                <lightning-input type="text" label="Follow up Feedback" value={newFollowupfeedbck} onchange={followupfeedbackHandler}></lightning-input>
                            </div>
                            <footer class="slds-modal__footer slds-text-align_center">
                                <div class="slds-m-top_small slds-m-bottom_medium">
                                    <lightning-button variant="neutral" label="Cancel" onclick={closecancelModal} class="slds-m-left_x-small"></lightning-button>
                                    <lightning-button variant="brand" label="Submit" onclick={handleNoshowsaveClick} class="slds-m-left_x-small"></lightning-button>
                                </div>
                            </footer>
                        </div>
                    </section>
                    <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
                </template>

                <template if:true={istart}>
                    <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
                        <div class="slds-modal__container">
                            <header class="slds-modal__header">
                                <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={closestartModal}>
                                    <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                                    <span class="slds-assistive-text">Close</span>
                                </button>
                                <h2 class="slds-text-heading_medium">Prerequisites to Start Test Ride</h2>
                            </header>
                            <div class="slds-modal__content slds-p-around_medium">
                                <lightning-input label="Driving Licence Number" value={homedlnumber} onchange={homehandledlnumber} data-id="license"></lightning-input>
                                <template if:true={errorMessage}>
                                    <p class="slds-text-color_error">{errorMessage}</p>
                                </template>
                                <lightning-input type="checkbox" label="Indemnity Form Signed" checked={homeIndemnity} onchange={handlehomeCheckboxChange} required></lightning-input>
                            </div>
                            <footer class="slds-modal__footer">
                                <lightning-button variant="neutral" label="Cancel" onclick={closestartModal}></lightning-button>
                                <lightning-button variant="brand" label="Submit" onclick={startestride}></lightning-button>
                            </footer>
                        </div>
                    </section>
                    <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
                </template>
                <template if:false={bRecordFound}>
                    <!-- <div class="slds-text-align_right slds-p-right_xx-me">
                        <p> Num of FollowUps : <strong>{followupscount} </strong> </p>
                    </div> -->
                    <div class="slds-m-around_medium">
                        No Records Found
                    </div>
                </template>
                <template if:true={Rescheduledate}>
                    <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
                        <div class="slds-modal__container">
                            <header class="slds-modal__header">
                                <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={ReschedulehandleClickcancel}>
                                    <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                                    <span class="slds-assistive-text">Close</span>
                                </button>
                                <h2 class="slds-text-heading_medium">Reschedule Date</h2>
                            </header>
                            <div class="slds-modal__content slds-p-around_medium">
                                <lightning-input type="datetime" name="date" label="Select Date" value={datevalue} min={todaysDate} onchange={handledatevalue}></lightning-input>
                                <lightning-combobox name="progress" label="Type" value={typevalue} options={Ridetypeoptions} onchange={handletypeValueChange}></lightning-combobox>
                                <template if:true={homerideAddress}>
                                    <lightning-card title="Address">
                                        <div class="slds-p-around_medium">
                                            <lightning-textarea type="text" label="Street" value={street} onchange={handlestreet}></lightning-textarea>
                                            <lightning-layout>
                                                <lightning-layout-item padding="around-small" size="6">
                                                    <lightning-input type="text" label="City" value={city} onchange={handlecity}></lightning-input>
                                                </lightning-layout-item>
                                                <lightning-layout-item padding="around-small" size="6">
                                                    <lightning-combobox name="progress" label="Country" value={country} options={countryoptions} onchange={handlecountry}></lightning-combobox>
                                                </lightning-layout-item>
                                            </lightning-layout>
                                            <lightning-layout>
                                                <lightning-layout-item padding="around-small" size="6">
                                                    <lightning-input type="text" label="Postal Code" value={postalCode} onchange={handlepostalcode}></lightning-input>
                                                </lightning-layout-item>
                                                <lightning-layout-item padding="around-small" size="6">
                                                    <lightning-combobox name="progress" label="State" value={state} options={stateoptions} onchange={handlestate}></lightning-combobox>
                                                </lightning-layout-item>
                                            </lightning-layout>
                                        </div>
                                    </lightning-card>
                                </template>
                            </div>
                            <footer class="slds-modal__footer slds-text-align_center">
                                <lightning-button variant="brand" label="Cancel" title="Primary action" onclick={ReschedulehandleClickcancel} class="slds-m-left_x-small"></lightning-button>
                                <lightning-button variant="success" label="Save" title="Successful action" onclick={reschedulesavehandleClick} class="slds-m-left_x-small"></lightning-button>
                            </footer>
                        </div>
                    </section>
                    <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
                </template>
                <template if:true={testridefeedbackmodale}>
                    <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
                        <div class="slds-modal__container">
                            <header class="slds-modal__header">
                                <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={updatedtestdrivefeedbackcancel}>
                                    <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                                    <span class="slds-assistive-text">Close</span>
                                </button>
                                <h2 class="slds-text-heading_medium">Feedback</h2>
                            </header>
                            <div class="slds-modal__content slds-p-around_medium">
                                <lightning-input type="text" label="Test Ride Feedback" value={testridefeedback} onchange={handletestridebeedback} required minlength="6"></lightning-input>
                            </div>
                            <footer class="slds-modal__footer slds-text-align_center">
                                <lightning-button variant="brand" label="Cancel" title="Primary action" onclick={updatedtestdrivefeedbackcancel} class="slds-m-left_x-small"></lightning-button>
                                <lightning-button variant="success" label="Save" title="Successful action" onclick={updatedtestdrivefeedbacksave} class="slds-m-left_x-small"></lightning-button>
                            </footer>
                        </div>
                    </section>
                    <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
                </template>

                <template if:true={lostleadtrue}>
                    <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
                        <div class="slds-modal__container">
                            <header class="slds-modal__header">
                                <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={todaysfollowuplostleadsavedeatailscancel}>
                                    <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                                    <span class="slds-assistive-text">Close</span>
                                </button>
                                <h2 class="slds-text-heading_medium">Lead Lost</h2>
                            </header>
                            <div class="slds-modal__content slds-p-around_medium">
                                <lightning-combobox name="progress" label="Reason" value={reasonvalue} options={reasonoptions} onchange={reasonhandleChange}></lightning-combobox>
                                <lightning-input type="text" label="Cancel For Reason" value={leadcancelreason} onchange={handleleadcancelreason} required minlength="6"></lightning-input>
                            </div>
                            <footer class="slds-modal__footer slds-text-align_center">
                                <lightning-button variant="success" label="Save" title="Successful action" onclick={todaysfollowuplostleadsave} class="slds-m-left_x-small"></lightning-button>
                                <lightning-button variant="destructive" label="Cancel" onclick={todaysfollowuplostleadsavedeatailscancel} class="slds-m-left_x-small"></lightning-button>
                            </footer>
                        </div>
                    </section>
                    <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
                </template>
                <template if:true={newfollowuptrue}>
                    <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
                        <div class="slds-modal__container">
                            <header class="slds-modal__header">
                                <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={handlenewfollowupcancelClick}>
                                    <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                                    <span class="slds-assistive-text">Close</span>
                                </button>
                                <h2 class="slds-text-heading_medium">New Follow UP</h2>
                            </header>
                            <div class="slds-modal__content slds-p-around_medium">
                                <lightning-input type="datetime" name="input2" label="Followup Date" value={newfollowupdate} onchange={followupdatehandle}></lightning-input>
                                <template if:true={errordateMessage}>
                                    <p class="slds-text-color_error">{errordateMessage}</p>
                                </template>
                                <lightning-input type="text" label="Follow up Feedback" value={newFollowupfeedbck} onchange={followupfeedbackHandler} min={todaysDate}></lightning-input>
                            </div>
                            <footer class="slds-modal__footer slds-text-align_center">
                                <lightning-button variant="success" label="Save" title="Successful action" onclick={handlenewfollowupsaveClick} class="slds-m-left_x-small"></lightning-button>
                                <lightning-button variant="destructive" label="Cancel" title="Successful action" onclick={handlenewfollowupcancelClick} class="slds-m-left_x-small"></lightning-button>
                            </footer>
                        </div>
                    </section>
                    <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
                </template>
                <template if:true={showTestRideFeedbackModal}>
                    <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
                        <div class="slds-modal__container">
                            <header class="slds-modal__header">
                                <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={closeFeedbackModal}>
                                    <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                                    <span class="slds-assistive-text">Close</span>
                                </button>
                                <h2 class="slds-text-heading_medium">Action to be taken</h2>
                            </header>
                            <div class="slds-modal__content slds-p-around_medium">
                                <lightning-radio-group name="radioGroup" label="Follow Up Subject" options={followoptionchooseoptions} value={followoptionchoosevalue} onchange={followoptionchoosechange} required type="radio"></lightning-radio-group>
                            </div>
                            <footer class="slds-modal__footer slds-text-align_center">
                                <lightning-button variant="neutral" label="Cancel" onclick={closeFeedbackModal} class="slds-m-left_x-small"></lightning-button>
                            </footer>
                        </div>
                    </section>
                    <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
                </template>
            </div>
        </div>
    <!-- </div> -->
</template>