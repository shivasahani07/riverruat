<template>
    <div class="custom-card slds-card">
        <!-- Custom Centered Header -->
        <div class="slds-card__header slds-grid slds-grid_align-center slds-p-vertical_small slds-m-top_medium">
            <h2 class="slds-text-heading_medium slds-text-align_center">Raise a Coupon Code Case</h2>
        </div>
        <div class="slds-card__body slds-p-around_medium">
            <!-- Row 1: Account & Category -->
            <div class="slds-grid slds-gutters">
                <div class="slds-col slds-size_1-of-2">
                    <lightning-input label="Account" value={accountName} disabled></lightning-input>
                </div>
                <div class="slds-col slds-size_1-of-2">
                    <lightning-input label="Category" value="Coupon" disabled></lightning-input>
                </div>
            </div>
            <!-- Row 2: Subcategory & Coupon Value -->
            <div class="slds-grid slds-gutters slds-m-top_small">
                <div class="slds-col slds-size_1-of-2">
                    <lightning-combobox
                        name="subcategory"
                        label="Subcategory"
                        value={subcategory}
                        placeholder="Select Subcategory"
                        options={subcategoryOptions}
                        onchange={handleSubcategoryChange}>
                    </lightning-combobox>
                </div>
                <div class="slds-col slds-size_1-of-2">
                    <lightning-combobox
                        name="coupon For"
                        label="Coupon For"
                        value={selectedCoupon}
                        placeholder="Select Coupon For"
                        options={couponOptions}
                        onchange={handleCouponChange}
                        disabled={disableCouponFor}>
                    </lightning-combobox>
                </div>
            </div>
            <!-- Coupon Value - new row -->
                <div class="slds-m-top_small slds-col slds-size_1-of-2">
                    <lightning-input type="number" label="Coupon Value" value={couponValue} onchange={handleCouponValueChange}></lightning-input>
                </div>
            <!-- Full-width Reason -->
            <div class="slds-m-top_small">
                <lightning-textarea label="Reason for Request" value={reason} onchange={handleReasonChange}></lightning-textarea>
            </div>
            <!-- Centered Buttons -->
            <div class="slds-m-top_medium slds-align_absolute-center">
                <lightning-button variant="neutral" label="Cancel" onclick={handleCancel}></lightning-button>
                 <lightning-button variant="brand" label="Submit" onclick={handleSubmit} class="slds-m-left_small"></lightning-button>
            </div>
        </div>
        <!-- Spinner -->
        <template if:true={spin}>
            <div class="spinner-overlay">
                <lightning-spinner alternative-text="Loading" size="medium"></lightning-spinner>
            </div>
        </template>
    </div>
</template>