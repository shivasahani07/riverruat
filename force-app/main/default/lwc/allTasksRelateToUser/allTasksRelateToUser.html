<template>
    <lightning-quick-action-panel header="">
        <lightning-card title="All Task Details" icon-name="standard:task">
            <template if:true={showSpinner}>
                <lightning-spinner></lightning-spinner>
            </template>
            <div class="slds-p-around_medium">
                <template if:true={allTaskList.length}>
                    <table class="slds-table slds-table_bordered slds-table_cell-buffer">
                        <thead>
                            <tr>
                                <!-- <th scope="col">Name</th> -->
                                <th scope="col">Task Subject</th>
                                <th scope="col">Task Type</th>
                                <th scope="col">Task Priority</th>
                                <th scope="col">Task Status</th>
                                
                            </tr>
                        </thead>
                        <tbody>
                            <template for:each={allTaskList} for:item="task" for:index="index">
                                <tr key={task.Id}>
                                    
                                    <!-- <td>{item.Name}</td> -->
                                    <td data-id={task.Id}>{task.Subject}</td>
                                    <td data-id={task.Id}>{task.Type}</td>
                                    <td data-id={task.Id}>{task.Priority}</td>
                                    
                                    <td>
                                        <lightning-combobox type="text" data-id={task.Id} data-field='Status' value={task.Status} options={statusOptions} onchange={handleInputChange} class="wide-input"></lightning-combobox>
                                    </td>
                                </tr>
                            </template>
                        </tbody>
                    </table>
                </template>
                <template if:false={allTaskList.length}>
                    <p>No Tasks to Show</p>
                </template>
            </div>
            <center>
                <lightning-button label="Cancel" variant="destructive" onclick={handleExit}></lightning-button> &nbsp;&nbsp;
                <lightning-button label="Update" variant="brand" onclick={handleUpdateProcess}></lightning-button>
            </center>
        </lightning-card>
    </lightning-quick-action-panel>
</template>